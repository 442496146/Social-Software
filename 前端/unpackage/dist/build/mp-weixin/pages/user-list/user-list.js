(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-list/user-list"],{"132b":function(t,n,e){"use strict";e.r(n);var r=e("59b5"),i=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);n["default"]=i.a},2656:function(t,n,e){"use strict";(function(t){e("a2a3");r(e("66fd"));var n=r(e("dc47"));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"59b5":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("4795"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,n){return l(t)||c(t,n)||u(t,n)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"===typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(e.push(a.value),n&&e.length===n)break}catch(s){i=!0,o=s}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return e}}function l(t){if(Array.isArray(t))return t}function f(t,n,e,r,i,o,a){try{var u=t[o](a),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function d(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){f(o,r,i,a,u,"next",t)}function u(t){f(o,r,i,a,u,"throw",t)}a(void 0)}))}}var h=function(){e.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("97cc"))}.bind(null,e)).catch(e.oe)},p=function(){e.e("components/index/swiper-tab-head").then(function(){return resolve(e("4e6d"))}.bind(null,e)).catch(e.oe)},b=function(){e.e("components/user-list/user-list").then(function(){return resolve(e("908a"))}.bind(null,e)).catch(e.oe)},v=function(){e.e("components/common/load-more").then(function(){return resolve(e("7456"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("components/common/no-thing").then(function(){return resolve(e("f137"))}.bind(null,e)).catch(e.oe)},g={components:{swiperTabHead:p,userList:b,loadMore:v,noThing:m,uniNavBar:h},computed:{getHeight:function(){}},data:function(){return{tabIndex:0,tabBars:[{name:"互关",id:"huguan",num:10},{name:"关注",id:"guanzhu",num:20},{name:"粉丝",id:"fensi",num:30}],newslist:[{loadtext:"上拉加载更多",list:[],page:1,firstload:!1},{loadtext:"上拉加载更多",list:[],page:1,firstload:!1},{loadtext:"上拉加载更多",list:[],page:1,firstload:!1}]}},onNavigationBarButtonTap:function(n){0==n.index&&t.navigateBack({delta:1})},onNavigationBarSearchInputClicked:function(){t.navigateTo({url:"../search/search?searchType=user"})},onShow:function(){this.__init()},methods:{clickRight:function(){t.navigateBack({delta:1})},openSearch:function(){t.navigateTo({url:"../search/search?searchType=user"})},__init:function(){this.tabBars[0].num=this.User.counts.friend_count<100?this.User.counts.friend_count:"99+",this.tabBars[1].num=this.User.counts.withfollow_count<100?this.User.counts.withfollow_count:"99+",this.tabBars[2].num=this.User.counts.withfen_count<100?this.User.counts.withfen_count:"99+",this.getList()},getUrl:function(){var t=["/friends/","/follows/","/fens/"];return t[this.tabIndex]+this.newslist[this.tabIndex].page},getList:function(){var t=this;return d(r.default.mark((function n(){var e,i,a,u,s,c,l,f;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e=t.tabIndex,n.next=4,t.$http.get(t.getUrl(),{},{token:!0,checkToken:!0});case 4:if(i=n.sent,a=o(i,2),u=a[0],s=a[1],t.$http.errorCheck(u,s)){n.next=11;break}return t.newslist[e].loadtext="上拉加载更多",n.abrupt("return");case 11:for(c=[],console.log(s),l=s.data.data.list,f=0;f<l.length;f++)c.push(t.__format(l[f],e));return t.newslist[e].list=t.newslist[e].page>1?t.newslist[e].list.concat(c):c,t.newslist[e].firstload=!0,t.newslist[e].loadtext=l.length<10?"没有更多数据了":"上拉加载更多",n.abrupt("return");case 21:return n.prev=21,n.t0=n["catch"](0),n.abrupt("return");case 24:case"end":return n.stop()}}),n,null,[[0,21]])})))()},__format:function(t,n){return{id:t.userinfo.user_id,userpic:t.userpic,username:t.username,age:t.userinfo.age,sex:t.userinfo.sex,isguanzhu:2!==n}},loadmore:function(t){"上拉加载更多"===this.newslist[t].loadtext&&(this.newslist[t].loadtext="加载中...",this.newslist[t].page++,this.getList())},tabtap:function(t){this.tabIndex=t},tabChange:function(t){this.tabIndex=t.detail.current,this.newslist[this.tabIndex].firstload||this.getList()}}};n.default=g}).call(this,e("543d")["default"])},"8da3":function(t,n,e){"use strict";var r={uniNavBar:function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"97cc"))},userList:function(){return e.e("components/user-list/user-list").then(e.bind(null,"908a"))}},i=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return r}))},dc47:function(t,n,e){"use strict";e.r(n);var r=e("8da3"),i=e("132b");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);var a,u=e("f0c5"),s=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);n["default"]=s.exports}},[["2656","common/runtime","common/vendor"]]]);